(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{70:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var c=n(3),r=n(2),a=n.n(r),s=n(33),i=n.n(s),o=(n(70),n(11)),j=n(9),u=n(27);function l(){var e=Object(u.a)(["\n      {\n        books {\n          name\n          genre\n          author {\n            name\n            age\n          }\n        }\n      }\n    "]);return l=function(){return e},e}function b(){var e=Object(u.a)(["\n      {\n        authors {\n          name\n          id\n        }\n      }\n    "]);return b=function(){return e},e}function h(){var e=Object(u.a)(["\n  mutation addAuthor($name: String!, $age: Int!) {\n    addAuthor(name: $name, age: $age) {\n      name\n      age\n    }\n  }\n"]);return h=function(){return e},e}function d(){var e=Object(u.a)(["\n  mutation addBook($name: String!, $genre: String!, $authorId: ID!) {\n    addBook(name: $name, genre: $genre, authorId: $authorId) {\n      name\n      genre\n    }\n  }\n"]);return d=function(){return e},e}var O=new j.ApolloClient({uri:"/graphql",cache:new j.InMemoryCache}),x=Object(j.gql)(d()),m=Object(j.gql)(h()),f=function(){return O.query({query:Object(j.gql)(l())})},g=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(c.jsx)(j.ApolloProvider,{client:O,children:Object(c.jsxs)("div",{className:"book-list",children:[Object(c.jsx)("h3",{children:"Get All Books"}),Object(c.jsx)("button",{onClick:function(e){f().then((function(e){a(e.data.books)}))},children:"Show All Books"}),Object(c.jsx)("button",{onClick:function(){return a([])},children:"Hide All Books"}),Object(c.jsx)("ul",{className:"book-slides",children:n!==[]&&n.map((function(e,t){return Object(c.jsxs)("div",{children:[Object(c.jsxs)("p",{children:[Object(c.jsxs)("span",{children:[t+1,"."]}),"Name - ",e.name]}),Object(c.jsxs)("p",{children:["  ","Genre - ",e.genre]}),Object(c.jsxs)("p",{children:["  ","Author: Name - ",e.author.name," , Age - ",e.author.age]})]},e.name)}))})]})})},v=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1];Object(r.useEffect)((function(){O.query({query:Object(j.gql)(b())}).then((function(e){a(e.data.authors)}))}),[a]);var s=Object(r.useState)(""),i=Object(o.a)(s,2),u=i[0],l=i[1],h=Object(r.useState)(""),d=Object(o.a)(h,2),m=d[0],f=d[1],g=Object(r.useState)(""),v=Object(o.a)(g,2),p=v[0],k=v[1],A=Object(j.useMutation)(x),y=Object(o.a)(A,1)[0];return Object(c.jsx)(j.ApolloProvider,{client:O,children:Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"Add A New Book"}),Object(c.jsxs)("form",{className:"addBookorAuthor",children:[Object(c.jsxs)("label",{children:["Name:"," ",Object(c.jsx)("input",{type:"text",name:"name",value:u,onChange:function(e){l(e.target.value)}})]}),Object(c.jsxs)("label",{children:["Genre:"," ",Object(c.jsx)("input",{type:"text",name:"genre",value:m,onChange:function(e){f(e.target.value)}})]}),Object(c.jsxs)("label",{children:["Select Author:"," ",Object(c.jsxs)("select",{value:p,onChange:function(e){k(e.target.value)},children:[Object(c.jsx)("option",{children:"Select Author"}),n.map((function(e){return Object(c.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{onClick:function(e){return function(e){e.preventDefault(),console.log({name:u,genre:m,authorId:p}),""!==u&&""!==m&&""!==p&&(y({variables:{name:u,genre:m,authorId:p}}),l(""),f(""),k(""))}(e)},children:"Submit"})})]})]})})},p=function(){var e=Object(r.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(""),i=Object(o.a)(s,2),u=i[0],l=i[1],b=Object(j.useMutation)(m),h=Object(o.a)(b,1)[0];return Object(c.jsx)(j.ApolloProvider,{client:O,children:Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"Add A New Author"}),Object(c.jsxs)("form",{className:"addBookorAuthor",children:[Object(c.jsxs)("label",{children:["Name:",Object(c.jsx)("input",{type:"text",name:"name",value:n,onChange:function(e){return a(e.target.value)}})]}),Object(c.jsxs)("label",{children:["Age:",Object(c.jsx)("input",{type:"number",name:"age",value:u,onChange:function(e){return l(Number(e.target.value))}})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{onClick:function(e){return function(e){e.preventDefault(),console.log({name:n,age:u}),""!==n&&""!==u&&(h({variables:{name:n,age:u}}),a(""),l(""))}(e)},children:"Submit"})})]})]})})},k=function(){return Object(c.jsx)(j.ApolloProvider,{client:O,children:Object(c.jsxs)("div",{children:[Object(c.jsx)(v,{}),Object(c.jsx)(p,{})]})})},A=n(44),y=n.n(A),S=n(59),N=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1];Object(r.useEffect)((function(){f().then((function(e){a(e.data.books)}))}),[]);var s=Object(r.useState)(""),i=Object(o.a)(s,2),u=i[0],l=i[1],b=Object(r.useState)([]),h=Object(o.a)(b,2),d=h[0],x=h[1],m=function(){var e=Object(S.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===u){e.next=5;break}return e.next=3,n.filter((function(e){return e.name.toLowerCase().includes(u)}));case 3:t=e.sent,x(t);case 5:l("");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsx)(j.ApolloProvider,{client:O,children:Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"Query A Book"}),Object(c.jsx)("input",{type:"text",value:u,onChange:function(e){return l(e.target.value)},placeholder:"Type A Book's Name"}),Object(c.jsx)("button",{onClick:function(e){return m()},style:{marginLeft:"0.2rem"},children:"Search"}),Object(c.jsx)("button",{onClick:function(e){return x([])},style:{marginLeft:"0.2rem"},children:"Clear"}),Object(c.jsx)("ul",{style:{display:"grid",justifyContent:"center",gridGap:"0.5rem"},children:d.map((function(e,t){return Object(c.jsxs)("li",{children:[Object(c.jsxs)("p",{children:[t+1,". Name - ",e.name]}),Object(c.jsxs)("p",{children:["Genre - ",e.genre]}),Object(c.jsxs)("p",{children:["Author: Name - ",e.author.name," ,Age-",e.author.age]})]},e.name)}))})]})})},C=n(60),w=n.n(C),B=n(62),$=n.n(B),q=n(63),I=n.n(q);var G=function(){return Object(c.jsxs)("div",{className:"footer",children:[Object(c.jsx)("h3",{children:"By Sibesh Behera"}),Object(c.jsx)("a",{href:"https://github.com/sibesh1",target:"_blank",rel:"noreferrer",children:Object(c.jsx)(w.a,{className:"icons"})}),Object(c.jsx)("a",{href:"https://www.linkedin.com/in/sibeshbehera/",target:"_blank",rel:"noreferrer",children:Object(c.jsx)($.a,{className:"icons"})}),Object(c.jsx)("a",{href:"https://www.facebook.com/sibesh.behera/",target:"_blank",rel:"noreferrer",children:Object(c.jsx)(I.a,{className:"icons"})})]})};var P=function(){return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("h1",{children:"Book Query Service"}),Object(c.jsx)(G,{}),Object(c.jsxs)("div",{className:"components",children:[Object(c.jsxs)("div",{className:"left-side",children:[Object(c.jsx)(g,{}),Object(c.jsx)(N,{})]}),Object(c.jsx)("hr",{style:{height:"98%",backgroundColor:"#ADF7B6",width:"2%"}}),Object(c.jsx)(k,{})]})]})};i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(P,{})}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.99ad93d1.chunk.js.map